Slist1 = [[0; 0; 1; 0; 0; 0], ...
[0; 1; 0; -96.326; 0; 0], ...
[0; 1; 0; -(128+96.326); 0; 24], ...
[0; 1; 0; -(128+96.326); 0; 24+120.74]];
M = [[0, 0, -1, (24+120.74+145.45)]; [0, 1, 0, 0]; [1, 0, 0, (128+96.326)];
[0, 0, 0, 1]];

T = [[1, 0, 0, 150]; [0, 1, 0, 0]; [0, 0, 1, 50]; [0, 0, 0, 1]];

thetalist0 = [0; -1.5; 0.75; 1.57];
eomg = 0.01;
ev = 0.01;
[thetalist, success] = IKinSpace(Slist1, M, T, thetalist0, eomg, ev)
thetalist = rad2deg(thetalist);
position = FKinSpace(M,Slist1,thetalist)
M01 = [[1,0,0,0]; ...
[0,1,0,0]; ...
[0,0,1,0.0723]; ...
[0,0,0,1]];
M12 = [[1,0,0,0.00486]; ...
[0,1,0,0]; ...
[0,0,1,0.12513]; ...
[0,0,0,1]];
M23 = [[1,0,0,0.11285]; ...
[0,1,0,0]; ...
[0,0,1,0.02511]; ...
[0,0,0,1]];
M34 = [[1,0,0,0.0969]; ...
[0,1,0,0] ;...
[0,0,1,0.0025]; ...
[0,0,0,1]];
M4E = [[0,0,-1,0.0668]; ...
[0,1,0,0] ;...
[1,0,0,-0.0025]; ...
[0,0,0,1]];
M0E = M01*M12*M23*M34*M4E; % home config
% kg*cm^2
% ixx,iyy,izz as per my images
G1 = diag([6.3269*10^-5 3.5632*10^-5 6.0786*10^-5 0.114 0.114 0.114]);
G2 = diag([2.24228*10^-4 5.4251*10^-5 2.29057*10^-4 0.140 0.140 0.140]);
G3 = diag([2.7756*10^-5 1.50492*10^-4 1.39989*10^-4 0.118 0.118 0.118]);
G4 = diag([2.82481*10^-4 1.84834*10^-4 2.02277*10^-4 0.214 0.214 0.214]);
dthetalist = [0; 0; 0; 0];
ddthetalist = [0; 0; 0; 0];
g = [0; 0; -9.8];
Ftip = [0; 0; 0; 0; 0; -10];
Glist = cat(4, G1, G2, G3, G4);
Mlist = cat(4, M01, M12, M23, M34, M4E);
Slist = [[0; 0; 1; 0; 0; 0], ...
[0; 1; 0; -0.096326; 0; 0], ...
[0; 1; 0; -0.2243; 0; 0.024], ...
[0; 1; 0; -0.2243; 0; 0.1447]]
taulist = InverseDynamics(thetalist, dthetalist, ddthetalist, g, ...
Ftip, Mlist, Glist, Slist)